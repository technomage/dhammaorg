<template name="locations">
{{willNotRenderCourseLocation}}
<section class="tabbed-header">
<h2>Locations</h2>
  <header>
    Meditation courses are held at both center and non-center locations. Meditation centers are dedicated facilities where courses are held regularly throughout the year. Before meditation centers were established in this tradition, all courses were held at temporary sites, such as campgrounds, religious retreat centers, churches and the like. Today, in regions where centers have not yet been established by local students of Vipassana who live in the area, 10 Day meditation courses are held at non-center course sites.
  </header>
  <ul id="location-nav" class="nav nav-tabs nav-quarters">
    <li class="{{activeIfCurrentPage 'search/directory'}}">
      <a href="/search/directory">Worldwide Directory</a></li>
    <li class="{{activeIfCurrentPage 'search/locations'}}">
      <a href="/search/locations">Search Locations</a></li>
  </ul>
</section>
<div class="tab-content">
  <div id="directory" class="tab-pane {{activeIfCurrentPage 'search/directory'}}">
    {{>directory}}
  </div>
  <div id="nearest-locations" class="tab-pane {{activeIfCurrentPage 'search/locations'}}">
    {{>location_search}}
    <br />
    {{#if styleIs "list"}}
      {{#each locations}}
        {{>location_list_item}}
        <hr />
      {{/each}}
    {{/if}}
    {{#if styleIs "carousel"}}
      {{>locations_carousel}}
    {{/if}}
  </div>
</div>
</template>

<template name="location_links">
<div class="location-links">
  <a target="_blank" href="#">Courses</a>&nbsp;&nbsp;
  <a target="_blank" href="{{website}}">Website</a>&nbsp;&nbsp;
  <a target="_blank" href="{{map}}">Map</a>&nbsp;&nbsp;
  <a target="_blank" href="mailto:{{contact}}">Contact</a>
</div>
</template>

<template name="locations_carousel">
<div class="image_carousel">
  <div id="locations-carousel">
    {{#each locations}}
    <div class="carousel-item">
      <a class="location-link" href="#">
        <img height=120 width=155 name="{{sub_domain}}" onerror="console.log($(this).attr('name'))" src="{{ header_image_path }}" />
        <span class="meta">
          {{dhamma_name}}<br />
          <span class="small">{{city}}, {{country}}</span>
        </span>
      </a>
    </div>
    {{/each}}
  </div>
  <div class="clearfix"></div>
  <a class="prev" id="locations-prev" href="#"><span>&lt;</span></a>
  <a class="next" id="locations-next" href="#"><span>&gt;</span></a>
</div>
<div id="selected-location"> </div>
</template>

<template name="location_list_item">
<div class="list-item row">
  <div class="col-sm-3">
    <img name="{{sub_domain}}" onerror="console.log($(this).attr('name'))" class="location-image" src="{{ header_image_path }}" />
  </div>
  <div class="col-sm-9">
    <h3>{{dhamma_name}}</h3>
    <h4>{{city}}, {{country}}</h4>
    <h4>{{>location_links}}</h4>
  </div>
</div>
</template>
